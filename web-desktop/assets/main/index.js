System.register("chunks:///_virtual/CameraFollowView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,i,n,r,s,a,l,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,a=o.Node,l=o.Vec3,p=o.Component}],execute:function(){var c,d,u,f,h;r._RF.push({},"d18ac46gNZPTqDAfxFmpFBD","CameraFollowView",void 0);var y=s.ccclass,w=s.property;o("CameraFollow",(c=y("CameraFollow"),d=w(a),c((h=e((f=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=o.call.apply(o,[this].concat(r))||this,i(e,"playerNode",h,n(e)),e.offset=void 0,e}t(e,o);var r=e.prototype;return r.start=function(){this.offset=new l(this.node.position.x-this.playerNode.position.x,this.node.position.y-this.playerNode.position.y,this.node.position.z-this.playerNode.position.z)},r.update=function(o){this.node.setPosition(new l(this.playerNode.position.x+this.offset.x,this.node.position.y,this.playerNode.position.z+this.offset.z))},e}(p)).prototype,"playerNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/CheckPointView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MoveToGoalPod.ts","./GameplayPod.ts","./GameplayState.ts"],(function(e){var t,o,n,i,a,r,l,c,s,p,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Collider,c=e.CCInteger,s=e.Component},function(e){p=e.MoveToGoalPod},function(e){u=e.GameplayPod},function(e){d=e.GameplayState}],execute:function(){var h,P,f,m,v,y,G;a._RF.push({},"047b5EnKkZBma/ApRJSfpL+","CheckPointView",void 0);var g=r.ccclass,w=r.property;e("CheckPoint",(h=g("CheckPoint"),P=w(l),f=w(c),h((y=t((v=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"collider",y,i(t)),n(t,"spawnPointIndex",G,i(t)),t.moveToGoalPod=void 0,t}o(t,e);var a=t.prototype;return a.start=function(){this.moveToGoalPod=p.instance,this.collider.on("onTriggerEnter",this.clearGame,this)},a.setCheckPoint=function(){this.node.active=!1,this.moveToGoalPod.setSpawnPoint(this.spawnPointIndex)},a.clearGame=function(){this.node.active=!1,u.instance.setGameplayState(d.Result)},t}(s)).prototype,"collider",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(v.prototype,"spawnPointIndex",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/CoinView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,o,t,n,l,c,a,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,c=e.Collider,a=e.Node,u=e.Component}],execute:function(){var s,p,d,h,f,g,b,y,v;n._RF.push({},"4b288Pq6cNMlIFuKXtYZ184","CoinView",void 0);var N=l.ccclass,w=l.property;e("CoinView",(s=N("CoinView"),p=w(c),d=w(a),h=w(a),s((b=i((g=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,o(i,"collider",b,t(i)),o(i,"coinNode",y,t(i)),o(i,"thornNode",v,t(i)),i}r(i,e);var n=i.prototype;return n.start=function(){this.collider.on("onTriggerEnter",this.onTrigger,this)},n.onTrigger=function(){this.coinNode.active=!1,this.thornNode&&(this.thornNode.active=!0)},i}(u)).prototype,"collider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(g.prototype,"coinNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(g.prototype,"thornNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/FakeObjectView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,l,s,c,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Material,s=e.Collider,c=e.MeshRenderer,h=e.Component}],execute:function(){var u,p,d,g,f,m,b;o._RF.push({},"12d30DXeXJLP4G8rvNAzNq3","FakeObjectView",void 0);var v=a.ccclass,w=a.property;e("FakeObjectView",(u=v("FakeObjectView"),p=w(l),d=w(l),u((m=r((f=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).collider=void 0,r.meshRenderer=void 0,i(r,"showMaterial",m,n(r)),i(r,"tranMaterial",b,n(r)),r}t(r,e);var o=r.prototype;return o.start=function(){this.collider=this.node.getComponent(s),this.meshRenderer=this.node.getComponent(c),this.collider.on("onTriggerEnter",this.onTriggerEnter,this),this.collider.on("onTriggerExit",this.onTriggerExit,this)},o.onTriggerEnter=function(){this.meshRenderer.material=this.tranMaterial},o.onTriggerExit=function(){this.meshRenderer.material=this.showMaterial},r}(h)).prototype,"showMaterial",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=r(f.prototype,"tranMaterial",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameoverAreaView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayPod.ts","./GameplayState.ts"],(function(e){var t,r,o,a,i,n,c,l,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,n=e._decorator,c=e.Collider,l=e.Component},function(e){s=e.GameplayPod},function(e){p=e.GameplayState}],execute:function(){var u,y,h,m,v;i._RF.push({},"d3e7eDoActEyay+LzyPV+32","GameoverAreaView",void 0);var d=n.ccclass,f=n.property;e("GameoverArea",(u=d("GameoverArea"),y=f(c),u((v=t((m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,o(t,"collider",v,a(t)),t}r(t,e);var i=t.prototype;return i.start=function(){this.collider.on("onTriggerEnter",this.checkGameover,this),this.collider.on("onCollisionEnter",this.checkGameover,this)},i.checkGameover=function(){s.instance.setGameplayState(p.GameOver)},t}(l)).prototype,"collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayEventType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"563a5+Zx11Err1KRPf+cowb","GameplayEventType",void 0);e("GameplayEventType",function(e){return e.onGameplayStateChange="onGameplayStateChange",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayPod.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayEventType.ts","./GameplayState.ts"],(function(e){var t,a,n,c,o,s;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy,n=e._decorator,c=e.EventTarget},function(e){o=e.GameplayEventType},function(e){s=e.GameplayState}],execute:function(){var i,l;a._RF.push({},"44b41OM+4lOooWeajp/D/bS","GameplayPod",void 0);var p=n.ccclass;e("GameplayPod",p("GameplayPod")(((l=function(){function e(){this.gameplayState=s.GamePlay,this.gameplayPodEventTarget=new c}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.setGameplayState=function(e){this.gameplayState=e,this.gameplayPodEventTarget.emit(o.onGameplayStateChange,e)},t(e,null,[{key:"instance",get:function(){return this.getInstance()}}]),e}())._instance=void 0,i=l))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"6f875FvoohAQohZT7wbYuhf","GameplayState",void 0);e("GameplayState",function(e){return e[e.CountDown=0]="CountDown",e[e.GamePlay=1]="GamePlay",e[e.GameOver=2]="GameOver",e[e.Result=3]="Result",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/HideBoxView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,o,n,l,s,h,c,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,s=e.Collider,h=e.MeshRenderer,c=e.CCBoolean,a=e.Component}],execute:function(){var d,u,p,f,x,b,g,m,B;n._RF.push({},"7fe6cgzEWtFiYXP9g/B5ZZQ","HideBoxView",void 0);var y=l.ccclass,w=l.property;e("HideBox",(d=y("HideBox"),u=w(s),p=w(h),f=w(c),d((g=i((b=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,r(i,"collider",g,o(i)),r(i,"meshRenderer",m,o(i)),r(i,"isHideWhenExit",B,o(i)),i}t(i,e);var n=i.prototype;return n.start=function(){this.collider||this.collider.getComponent(s),this.meshRenderer||this.collider.getComponent(h),this.meshRenderer.enabled=!1,this.collider.on("onCollisionEnter",this.showBox,this),this.collider.on("onTriggerEnter",this.showBox,this),this.isHideWhenExit&&this.collider.on("onCollisionExit",this.hideBox,this)},n.showBox=function(){this.meshRenderer.enabled=!0},n.hideBox=function(){this.meshRenderer.enabled=!1},i}(a)).prototype,"collider",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(b.prototype,"meshRenderer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(b.prototype,"isHideWhenExit",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=b))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameplayPod.ts","./GameplayState.ts","./GameplayEventType.ts","./CameraFollowView.ts","./CheckPointView.ts","./CoinView.ts","./FakeObjectView.ts","./GameoverAreaView.ts","./HideBoxView.ts","./MoveFloorView.ts","./MoveToGoalGameClearUIView.ts","./MoveToGoalGameOverUIView.ts","./MoveToGoalPod.ts","./MoveToGoalView.ts","./PlayerControllerMoveView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MoveFloorView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,o,r,n,s,l,a,c,f,h,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.Collider,a=e.CCFloat,c=e.CCBoolean,f=e.tween,h=e.Vec3,p=e.Component}],execute:function(){var u,v,b,d,g,y,M,m,w,C,O,z,T,k,F;n._RF.push({},"d5162jaImdMupuaEYqHTUiN","MoveFloorView",void 0);var x=s.ccclass,D=s.property;e("MoveFloor",(u=x("MoveFloor"),v=D(l),b=D(a),d=D(a),g=D(a),y=D(a),M=D(c),u((C=i((w=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return i=e.call.apply(e,[this].concat(n))||this,o(i,"colliderCheck",C,r(i)),o(i,"moveTime",O,r(i)),o(i,"xOffsetMove",z,r(i)),o(i,"yOffsetMove",T,r(i)),o(i,"zOffsetMove",k,r(i)),o(i,"isTween",F,r(i)),i.isTrigger=!1,i.isDrop=!1,i}t(i,e);var n=i.prototype;return n.start=function(){null!=this.colliderCheck||(this.colliderCheck=this.getComponent(l)),this.isTrigger=this.colliderCheck.isTrigger,this.isTrigger?this.colliderCheck.on("onTriggerEnter",this.dropObject,this):this.colliderCheck.on("onCollisionEnter",this.dropObject,this)},n.dropObject=function(){this.isDrop||(this.isDrop=!0,this.isTween?f(this.node).by(this.moveTime,{position:new h(this.xOffsetMove,this.yOffsetMove,this.zOffsetMove)}).start():this.node.setPosition(new h(this.node.position.x+this.xOffsetMove,this.node.position.y+this.yOffsetMove,this.node.position.z+this.zOffsetMove)))},i}(p)).prototype,"colliderCheck",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(w.prototype,"moveTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=i(w.prototype,"xOffsetMove",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(w.prototype,"yOffsetMove",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(w.prototype,"zOffsetMove",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(w.prototype,"isTween",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=w))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/MoveToGoalGameClearUIView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayEventType.ts","./GameplayState.ts","./GameplayPod.ts"],(function(e){var t,a,o,n,r,i,l,c,s,u,p,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Node,c=e.Button,s=e.director,u=e.Component},function(e){p=e.GameplayEventType},function(e){m=e.GameplayState},function(e){y=e.GameplayPod}],execute:function(){var d,f,h,v,G,I,g,U;r._RF.push({},"4451eSd7QtNHrY9eeCOIZ9s","MoveToGoalGameClearUIView",void 0);var C=i.ccclass,S=i.property;e("MoveToGoalGameClearUIView",(d=C("MoveToGoalGameClearUIView"),f=S(l),h=S(c),d(((U=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,o(t,"gameclearUINode",I,n(t)),o(t,"restartButton",g,n(t)),t}a(t,e);var r=t.prototype;return r.doinit=function(){var e=this;y.instance.gameplayPodEventTarget.on(p.onGameplayStateChange,(function(t){t==m.Result?e.showUI():e.hideUI()})),this.restartButton.node.on(c.EventType.CLICK,this.restartGame,this)},r.showUI=function(){var e=this;this.schedule((function(){e.gameclearUINode.active=!0}),t.DELAY_SHOW_UI,0)},r.hideUI=function(){this.gameclearUINode.active=!1},r.restartGame=function(){y.instance.gameplayPodEventTarget.off(p.onGameplayStateChange),s.loadScene("MovetoGoal_0"),y.instance.setGameplayState(m.GamePlay)},t}(u)).DELAY_SHOW_UI=1,I=t((G=U).prototype,"gameclearUINode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(G.prototype,"restartButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=G))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/MoveToGoalGameOverUIView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayPod.ts","./GameplayState.ts","./GameplayEventType.ts"],(function(e){var t,a,o,n,r,i,l,c,s,u,p,v,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Node,c=e.Button,s=e.director,u=e.Component},function(e){p=e.GameplayPod},function(e){v=e.GameplayState},function(e){m=e.GameplayEventType}],execute:function(){var y,d,f,h,G,g,I,U;r._RF.push({},"538c6fA4YtJ5Z+h1cLx2UEd","MoveToGoalGameOverUIView",void 0);var T=i.ccclass,w=i.property;e("MoveToGoalGameOverUIView",(y=T("MoveToGoalGameOverUIView"),d=w(l),f=w(c),y(((U=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,o(t,"gameoverUINode",g,n(t)),o(t,"restartButton",I,n(t)),t}a(t,e);var r=t.prototype;return r.doinit=function(){var e=this;p.instance.gameplayPodEventTarget.on(m.onGameplayStateChange,(function(t){t==v.GameOver?e.showUI():e.hideUI()})),this.restartButton.node.on(c.EventType.CLICK,this.restartGame,this)},r.showUI=function(){var e=this;this.schedule((function(){e.gameoverUINode.active=!0}),t.DELAY_SHOW_UI,0)},r.hideUI=function(){this.gameoverUINode.active=!1},r.restartGame=function(){p.instance.gameplayPodEventTarget.off(m.onGameplayStateChange),s.loadScene("MovetoGoal_0"),p.instance.setGameplayState(v.GamePlay)},t}(u)).DELAY_SHOW_UI=1,g=t((G=U).prototype,"gameoverUINode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(G.prototype,"restartButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=G))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/MoveToGoalPod.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,o=n._decorator}],execute:function(){var c,s;e._RF.push({},"168029GNTxHSqm5QfS3JBN0","MoveToGoalPod",void 0);var i=o.ccclass;o.property,n("MoveToGoalPod",i("MoveToGoalPod")(((s=function(){function n(){this.spawnPointIndex=0}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.setSpawnPoint=function(n){this.spawnPointIndex=n},t(n,null,[{key:"instance",get:function(){return this.getInstance()}}]),n}())._instance=void 0,c=s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/MoveToGoalView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayPod.ts","./MoveToGoalGameOverUIView.ts","./MoveToGoalPod.ts","./MoveToGoalGameClearUIView.ts"],(function(e){var o,i,a,t,n,l,r,s,p,c,u,v;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,r=e.Node,s=e.Component},function(e){p=e.GameplayPod},function(e){c=e.MoveToGoalGameOverUIView},function(e){u=e.MoveToGoalPod},function(e){v=e.MoveToGoalGameClearUIView}],execute:function(){var G,m,w,y,T,d,f,P,h,V,b;n._RF.push({},"66b02l0TWpDyZyGsV/ptiin","MoveToGoalView",void 0);var I=l.ccclass,M=l.property;e("MoveToGoalView",(G=I("MoveToGoalView"),m=M(c),w=M(v),y=M(r),T=M(r),G((P=o((f=function(e){function o(){for(var o,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return o=e.call.apply(e,[this].concat(n))||this,a(o,"moveToGoalGameOverUIView",P,t(o)),a(o,"moveToGoalGameClearUIView",h,t(o)),a(o,"spawnPointList",V,t(o)),a(o,"player",b,t(o)),o.moveToGoalPod=void 0,o.gameplayPod=void 0,o}i(o,e);var n=o.prototype;return n.start=function(){this.moveToGoalPod=u.instance,this.gameplayPod=p.instance,this.moveToGoalGameOverUIView.doinit(),this.moveToGoalGameClearUIView.doinit(),this.setSpawn()},n.setSpawn=function(){this.player.setPosition(this.spawnPointList[this.moveToGoalPod.spawnPointIndex].position)},o}(s)).prototype,"moveToGoalGameOverUIView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=o(f.prototype,"moveToGoalGameClearUIView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=o(f.prototype,"spawnPointList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=o(f.prototype,"player",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerControllerMoveView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayPod.ts","./GameplayState.ts","./GameplayEventType.ts"],(function(i){var t,e,o,n,s,r,a,h,l,c,p,u,y,d,v,I,m,f,K,C,z;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,a=i.CCBoolean,h=i.RigidBody,l=i.CapsuleCollider,c=i.Node,p=i.CCFloat,u=i.input,y=i.Input,d=i.KeyCode,v=i.Vec3,I=i.geometry,m=i.PhysicsSystem,f=i.Component},function(i){K=i.GameplayPod},function(i){C=i.GameplayState},function(i){z=i.GameplayEventType}],execute:function(){var D,M,g,k,S,b,w,R,P,E,G,_,A,Y,F;s._RF.push({},"c7cbaNW0spF6LYGuA5VBiao","PlayerControllerMoveView",void 0);var W=r.ccclass,B=r.property,T=(i("PlayerControllerMove",(D=W("PlayerControllerMove"),M=B(a),g=B(h),k=B(l),S=B(c),b=B(p),w=B(p),D((E=t((P=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,o(t,"isSideMove",E,n(t)),o(t,"rb",G,n(t)),o(t,"collider",_,n(t)),o(t,"playerModel",A,n(t)),o(t,"moveSpeed",Y,n(t)),o(t,"jumpPower",F,n(t)),t.isGround=!1,t.moveDirection=new v(0,0,0),t.horizontalInput=void 0,t.verticalInput=void 0,t.isKeyAInput=!1,t.isKeyDInput=!1,t.isKeyWInput=!1,t.isKeySInput=!1,t.gameplayPod=void 0,t.isCanMove=!0,t}e(t,i);var s=t.prototype;return s.start=function(){var i=this;this.gameplayPod=K.instance,this.gameplayPod.gameplayPodEventTarget.on(z.onGameplayStateChange,(function(t){t==C.GamePlay?i.isCanMove=!0:i.isCanMove=!1})),u.on(y.EventType.KEY_DOWN,this.onKeyDown,this),u.on(y.EventType.KEY_UP,this.onKeyUp,this)},s.onKeyDown=function(i){i.keyCode!=d.SPACE?(i.keyCode==d.KEY_A?(this.isKeyAInput=!0,this.isSideMove?this.verticalInput=-1:this.horizontalInput=1):i.keyCode==d.KEY_D&&(this.isKeyDInput=!0,this.isSideMove?this.verticalInput=1:this.horizontalInput=-1),i.keyCode==d.KEY_W?(this.isKeyWInput=!0,this.isSideMove?this.horizontalInput=1:this.verticalInput=1):i.keyCode==d.KEY_S&&(this.isKeySInput=!0,this.isSideMove?this.horizontalInput=-1:this.verticalInput=-1),this.rotateModel()):this.jump()},s.onKeyUp=function(i){i.keyCode==d.KEY_A?(this.isKeyAInput=!1,this.isKeyDInput||(this.isSideMove?this.verticalInput=0:this.horizontalInput=0)):i.keyCode==d.KEY_D&&(this.isKeyDInput=!1,this.isKeyAInput||(this.isSideMove?this.verticalInput=0:this.horizontalInput=0)),i.keyCode==d.KEY_W?(this.isKeyWInput=!1,this.isKeySInput||(this.isSideMove?this.horizontalInput=0:this.verticalInput=0)):i.keyCode==d.KEY_S&&(this.isKeySInput=!1,this.isKeyWInput||(this.isSideMove?this.horizontalInput=0:this.verticalInput=0)),Math.abs(this.verticalInput)+Math.abs(this.horizontalInput)!=0&&this.rotateModel()},s.rotateModel=function(){if(this.isCanMove){var i=new v(-this.horizontalInput,0,-this.verticalInput);(i=i.normalize())!=v.ZERO&&(this.playerModel.forward=i)}},s.movement=function(i){if(!this.isCanMove)return this.horizontalInput=0,void(this.verticalInput=0);this.checkGround(),this.isSideMove?((this.checkRaycastDirection(T.Back)&&this.isKeyAInput||this.checkRaycastDirection(T.Front)&&this.isKeyDInput)&&(this.verticalInput=0),(this.checkRaycastDirection(T.Left)&&this.isKeyWInput||this.checkRaycastDirection(T.Right)&&this.isKeySInput)&&(this.horizontalInput=0)):((this.checkRaycastDirection(T.Left)&&this.isKeyAInput||this.checkRaycastDirection(T.Right)&&this.isKeyDInput)&&(this.horizontalInput=0),(this.checkRaycastDirection(T.Front)&&this.isKeyWInput||this.checkRaycastDirection(T.Back)&&this.isKeySInput)&&(this.verticalInput=0)),this.moveDirection=new v(this.horizontalInput,0,this.verticalInput),this.moveDirection=this.moveDirection.normalize(),this.node.translate(new v(this.moveDirection.x*this.moveSpeed*i,0,this.moveDirection.z*this.moveSpeed*i))},s.checkRaycastDirection=function(i){var t=new I.Ray;switch(i){case T.Left:I.Ray.fromPoints(t,this.node.position,new v(this.node.position.x+this.collider.radius,this.node.position.y,this.node.position.z));break;case T.Right:I.Ray.fromPoints(t,this.node.position,new v(this.node.position.x-this.collider.radius,this.node.position.y,this.node.position.z));break;case T.Front:I.Ray.fromPoints(t,this.node.position,new v(this.node.position.x,this.node.position.y,this.node.position.z+this.collider.radius));break;case T.Back:I.Ray.fromPoints(t,this.node.position,new v(this.node.position.x,this.node.position.y,this.node.position.z-this.collider.radius))}var e=1.7*this.collider.radius;return!!m.instance.raycastClosest(t,4294967295,e,!0)&&!m.instance.raycastClosestResult.collider.isTrigger},s.checkGround=function(){var i=new I.Ray;I.Ray.fromPoints(i,this.node.position,new v(this.node.position.x,this.node.position.y-this.collider.height,this.node.position.z));var t,e=this.collider.height/2+.2;m.instance.raycastClosest(i,4294967295,e,!0)&&(t=!(t=m.instance.raycastClosestResult.collider).isTrigger);this.isGround=!!t},s.jump=function(){this.isGround&&this.isCanMove&&this.rb.applyForce(new v(0,1e3*this.jumpPower,0))},s.update=function(i){this.movement(i)},t}(f)).prototype,"isSideMove",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=t(P.prototype,"rb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"collider",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(P.prototype,"playerModel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(P.prototype,"moveSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(P.prototype,"jumpPower",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=P))||R)),i("DirectionType",function(i){return i[i.Left=0]="Left",i[i.Right=1]="Right",i[i.Front=2]="Front",i[i.Back=3]="Back",i}({})));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});